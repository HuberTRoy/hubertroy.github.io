{"version":3,"sources":["webpack:///src/components/publish_page/publish.vue","webpack:///./src/components/publish_page/publish.vue?bb2d","webpack:///./src/components/publish_page/publish.vue","webpack:///src/pages/questions/publish.vue","webpack:///./src/pages/questions/publish.vue?4126","webpack:///./src/pages/questions/publish.vue","webpack:///./src/api/upload/upload.js","webpack:///src/components/common_components/markdown_editor/markdown.vue","webpack:///./src/components/common_components/markdown_editor/markdown.vue?5a58","webpack:///./src/components/common_components/markdown_editor/markdown.vue","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/defineProperty.js","webpack:///./node_modules/_core-js@2.6.9@core-js/library/fn/object/define-property.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/_core-js@2.6.9@core-js/library/modules/es6.object.define-property.js"],"names":["publish_page_publish","components","MarkdownEditor","markdown","data","tag","tag_dict","交流讨论","技术分享","preview","content","title","methods","tab_active","this","tab_preview","get_content","publish","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","question","publish_question","type","beans","sent","id","$router","push","name","params","stop","apply","arguments","components_publish_page_publish","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","attrs","placeholder","domProps","on","input","$event","target","composing","_v","text","class","click","staticRenderFns","src_components_publish_page_publish","__webpack_require__","normalizeComponent","ssrContext","questions_publish","Publish","pages_questions_publish","publish_Component","publish_normalizeComponent","__webpack_exports__","upload_upload","get_upload_name","args","user_id","folder","date","Date","today","getFullYear","getMonth","getDate","getTime","get_upload_key","axios","post","apiUrl","get_upload_domain","get","qiniu","upload","content-type","upload_file","_this","upload_name","keys","form","new_avatar_url","bucket","key","ak","token","split","up","acc","main","FormData","append","file","imgUrl","abrupt","props","String","require","Boolean","default","hidden_default_tools","defineProperty_default","selected_text","VueMarkdown","vue_markdown_common_default","computed","extends_default","Object","vuex_esm","state","loginState","user_info","selected","textarea","document","getElementById","selectedText","substr","selectionStart","selectionEnd","left","right","length","replace","symbo","getSelected","newSymboText","start_with","link_with","img_with","event","files","_x","watch","$emit","markdown_editor_markdown","for","change","to","select","source","_e","Component","exports","__esModule","obj","_defineProperty","_defineProperty2","enumerable","configurable","writable","$Object","module","it","desc","defineProperty","$export","S","F","f"],"mappings":"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","file":"static/js/8.e6b040e85a8979b1e56d.js","sourcesContent":["<template>\r\n    <div class=\"publish_div\">\r\n        <input type=\"text\" placeholder=\"请输入帖子标题\" class=\"publish_title_input\" v-model=\"title\">\r\n        <MarkdownEditor class=\"publish_markdown_editor\" \r\n                        :placeholder=\"'写点什么吧....'\" \r\n                        :preview=\"preview\"\r\n                        @text=\"get_content\">\r\n        </MarkdownEditor>\r\n        <div class=\"publish_tools\">\r\n            <div class=\"publish_tags\">\r\n                <span class=\"publish_tag\">\r\n                    发布至:\r\n                </span>\r\n                <span class=\"publish_tag\"\r\n                      @click=\"tab_active('交流讨论')\"\r\n                      :class=\"[tag=='交流讨论' ? 'publish_tag_active' : '']\"\r\n                >\r\n                    交流讨论\r\n                </span>\r\n                <span class=\"publish_tag\"\r\n                      @click=\"tab_active('技术分享')\"\r\n                      :class=\"[tag=='技术分享' ? 'publish_tag_active' : '']\"\r\n                >\r\n                    技术分享\r\n                </span>\r\n            </div>\r\n            <div class=\"publish_operation_tools\">\r\n                <button class=\"publish_button publish_preview_button\" @click=\"tab_preview()\" v-show=\"!preview\">预览</button>\r\n                <button class=\"publish_button publish_preview_button\" @click=\"tab_preview()\" v-show=\"preview\">取消预览</button>\r\n                <button class=\"publish_button\" @click=\"publish()\">发布</button>\r\n            </div>\r\n        </div>\r\n    </div>    \r\n</template>\r\n<script type=\"text/javascript\">\r\nimport MarkdownEditor from '@/components/common_components/markdown_editor/markdown.vue'\r\n\r\nimport questionApi from '@/api/questions/question.js'\r\n\r\nexport default {\r\n    components: {\r\n        MarkdownEditor\r\n    },\r\n    data: function () {\r\n        return {\r\n            tag: '交流讨论',\r\n            tag_dict: {\r\n                '交流讨论': 'discuss',\r\n                '技术分享': 'sharing'\r\n\r\n            },\r\n            preview: false,\r\n            content: '',\r\n            title: ''\r\n        }\r\n    },\r\n    methods: {\r\n        tab_active: function (tag) {\r\n            this.tag = tag\r\n        },\r\n        tab_preview: function () {\r\n            this.preview = !this.preview\r\n        },\r\n        get_content: function (content) {\r\n            this.content = content\r\n        },\r\n        publish: async function () {\r\n            let res = await questionApi.publish_question({\r\n                title: this.title,\r\n                content: this.content,\r\n                type: this.tag_dict[this.tag],\r\n                // 这个参数好像是个预留参数暂时没用的样子。\r\n                'beans': 0\r\n            })\r\n\r\n            if (res.data.id) {\r\n                this.$router.push({ name: 'question', params: { id: res.data.id } })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n<style type=\"text/css\">\r\n.publish_div {\r\n    width: 660px;\r\n    height: calc(100vh - 120px);\r\n    margin: auto;\r\n    padding: 30px;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.publish_title_input {\r\n    font-size: 20px;\r\n    padding: .375rem .75rem;\r\n    width: 100%;\r\n    line-height: 1.5;\r\n    border: 0;\r\n    outline: none;\r\n    box-shadow: none;\r\n    resize: none;\r\n    color: #333;\r\n    background: #f9f9f9;\r\n}\r\n\r\n.publish_markdown_editor {\r\n    border: none!important;\r\n    flex-grow: 1;\r\n}\r\n\r\n.publish_tools {\r\n    position: fixed;\r\n    width: 50%;\r\n    bottom: 0;\r\n    left: 25%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 10px 0;\r\n    margin-top: 10px;\r\n    background: #f9f9f9;\r\n    border-top: 1px solid #eee;\r\n    border-bottom: 1px solid #eee;\r\n}\r\n\r\n.publish_tags {\r\n    color: #333;\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    display: flex;\r\n}\r\n\r\n.publish_tag {\r\n    /*font-weight: 500;*/\r\n    padding: 2px 10px;\r\n    margin-right: 10px;\r\n    border-radius: 20px;\r\n    cursor: pointer;\r\n}\r\n\r\n.publish_tag_active {\r\n    color: #fff;\r\n    background: #4e5d63;\r\n}\r\n\r\n.publish_operation_tools {\r\n    display: flex;\r\n\r\n}\r\n\r\n.publish_button {\r\n    padding: 6px 20px;\r\n    background: rgb(8, 191, 145);\r\n    border: 1px solid transparent;\r\n    border-radius: 4px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    color: #fff;\r\n    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\r\n    margin-right: 5px;\r\n}\r\n\r\n.publish_button:hover {\r\n    color: #fff;\r\n    background: #069a75;\r\n}\r\n\r\n.publish_preview_button {\r\n    background-color: #fff;\r\n    color: #08bf91;\r\n    border-color: #08bf91;\r\n}\r\n\r\n.publish_preview_button:hover {\r\n    color: #fff;\r\n    background-color: #08bf91;\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/publish_page/publish.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publish_div\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"publish_title_input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入帖子标题\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_vm._v(\" \"),_c('MarkdownEditor',{staticClass:\"publish_markdown_editor\",attrs:{\"placeholder\":'写点什么吧....',\"preview\":_vm.preview},on:{\"text\":_vm.get_content}}),_vm._v(\" \"),_c('div',{staticClass:\"publish_tools\"},[_c('div',{staticClass:\"publish_tags\"},[_c('span',{staticClass:\"publish_tag\"},[_vm._v(\"\\n                发布至:\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"publish_tag\",class:[_vm.tag=='交流讨论' ? 'publish_tag_active' : ''],on:{\"click\":function($event){return _vm.tab_active('交流讨论')}}},[_vm._v(\"\\n                交流讨论\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"publish_tag\",class:[_vm.tag=='技术分享' ? 'publish_tag_active' : ''],on:{\"click\":function($event){return _vm.tab_active('技术分享')}}},[_vm._v(\"\\n                技术分享\\n            \")])]),_vm._v(\" \"),_c('div',{staticClass:\"publish_operation_tools\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.preview),expression:\"!preview\"}],staticClass:\"publish_button publish_preview_button\",on:{\"click\":function($event){return _vm.tab_preview()}}},[_vm._v(\"预览\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.preview),expression:\"preview\"}],staticClass:\"publish_button publish_preview_button\",on:{\"click\":function($event){return _vm.tab_preview()}}},[_vm._v(\"取消预览\")]),_vm._v(\" \"),_c('button',{staticClass:\"publish_button\",on:{\"click\":function($event){return _vm.publish()}}},[_vm._v(\"发布\")])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-d35a2cd4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/publish_page/publish.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d35a2cd4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./publish.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./publish.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./publish.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d35a2cd4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./publish.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/publish_page/publish.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"publish_home_div\">\r\n        <Publish></Publish>\r\n    </div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\r\nimport Publish from '@/components/publish_page/publish.vue'\r\n\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n    components: {\r\n        Publish,\r\n    },\r\n}\r\n</script>\r\n<style type=\"text/css\">\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/questions/publish.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publish_home_div\"},[_c('Publish')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-029eb2c3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/questions/publish.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-029eb2c3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./publish.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./publish.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./publish.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-029eb2c3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./publish.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/questions/publish.vue\n// module id = null\n// module chunks = ","import qs from 'qs'\r\nimport axios from 'axios'\r\nimport { apiUrl, qiniu, upload, imgUrl } from '@/api/base.js'\r\n\r\nexport default {\r\n    get_upload_name: function (args) {\r\n        // args\r\n        // user_id: 需要传入user_id\r\n        // folder: 上传到的目录, 默认 courses\r\n\r\n        // courses/uid1146797-20190920-1568960683910\r\n        // 名字试了试无所谓,这样生成应该是保证唯一。\r\n        let id = args.user_id\r\n        let folder = args.folder ? args.folder : 'courses'\r\n        let date = new Date()\r\n        let today = `${date.getFullYear()}${date.getMonth()+1}${date.getDate()}`\r\n        let time = date.getTime()\r\n\r\n        return `${folder}/uid${id}-${today}-${time}`\r\n    },\r\n    get_upload_key (args) {\r\n        // args:\r\n        // bucket: 'simplecloud' 似乎是固定的\r\n        // key: 'aa' 上传后回显的文件名,唯一即可。\r\n\r\n        return axios.post(`${apiUrl}v2/services/qiniu/token/`, args)\r\n    },\r\n\r\n    get_upload_domain (args) {\r\n        // 这个是直接向七牛进行的请求。\r\n        return axios.get(`${qiniu}v2/query`, {params: args})\r\n    },\r\n\r\n    upload (args) {\r\n        return axios.post(`${upload}`, args, { 'content-type': 'application/x-www-form-urlencoded' })\r\n    },\r\n    async upload_file (args) {\r\n        // args\r\n        // file 上传的文件信息\r\n        // user_id 用户id\r\n        // folder 上传的目录\r\n        let upload_name = this.get_upload_name({\r\n            user_id: args.user_id,\r\n            folder: args.folder\r\n        })\r\n\r\n        // 第一步向服务器请求上传所需的token, key其实是上传的文件名。\r\n        let keys = await this.get_upload_key({\r\n            bucket: 'simplecloud',\r\n            key: upload_name\r\n        })\r\n\r\n        // 第二步向七牛申请可用上传域名。\r\n        let upload_domains = await this.get_upload_domain({\r\n            ak: keys.data.token.split(':')[0],\r\n            bucket: 'simplecloud'\r\n        })\r\n        // 这里获取的上传域名有很多个，有主域名与备用域名，这里就只用主域名了，\r\n        // 配置在 config/index.js 中做代理。\r\n\r\n        upload_domains = upload_domains.data.up.acc.main[0]\r\n\r\n        // 第三部配置form数据\r\n        let form = new FormData()\r\n        form.append('file', args.file)\r\n        form.append('token', keys.data.token)\r\n        form.append('key', upload_name)\r\n        form.append('fname', 'old.jpg')\r\n\r\n        let res = await this.upload(form)\r\n\r\n        let new_avatar_url = `${imgUrl}${res.data.key}`\r\n\r\n        return new_avatar_url\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/upload/upload.js","<template>\r\n    <div class=\"markdown_editor\">\r\n        <!-- \r\n            一个常规的富文本编辑器\r\n            上面一排是工具栏\r\n\r\n            ------------\r\n            |tools     |\r\n            |          |\r\n            |textarea  |\r\n            ------------\r\n            [发布] [预览]\r\n              ↓      ↓\r\n    这个按钮props   这个投到全屏差不多的样子。\r\n         -->\r\n        <div class=\"markdown_container\" v-show=\"!preview\">\r\n            <div class=\"markdown_container_editor\" v-show=\"!preview\">\r\n                <div class=\"markdown_tools\">\r\n                    <div class=\"tools\">\r\n                        <i class=\"fa fa-bold\" @click=\"replace('**')\"></i>\r\n                        <i class=\"fa fa-italic\" @click=\"replace('*')\"></i>\r\n                        <i class=\"fa fa-link\" @click=\"link_with()\"></i>\r\n                        <i class=\"fa fa-quote-left\" @click=\"start_with('> ')\"></i>\r\n                        <i class=\"fa fa-code\" @click=\"replace('```')\"></i>\r\n                        <label for=\"upload_file\">\r\n                            <i class=\"fa fa-image\" @click=\"upload()\"></i>\r\n                        </label>\r\n                        <input type=\"file\" id=\"upload_file\" @change=\"upload($event)\">\r\n                        <i class=\"fa fa-list-ol\" @click=\"start_with('1. ')\"></i>\r\n                        <i class=\"fa fa-list-ul\" @click=\"start_with('- ')\"></i>\r\n                    </div>\r\n                    <router-link tag=\"a\"\r\n                                 :to=\"{ name: 'question', params: { id: '764' } }\"\r\n                                 class=\"get_markdown_knowledge\">\r\n                        <i class=\"fa fa-question-circle\"></i>\r\n                        MarkDown 语法\r\n                    </router-link>\r\n                </div>\r\n                <textarea class=\"markdown_text\" id=\"markdown_textarea\"\r\n                          :placeholder=\"placeholder\"\r\n                          v-model=\"text\"\r\n                          @select=\"selected()\"\r\n                >            \r\n                </textarea>\r\n            </div>\r\n        </div>\r\n        <section class=\"markdown_container_previewer\" v-show=\"preview\">\r\n            <VueMarkdown :source=\"text\"></VueMarkdown>\r\n        </section>\r\n        <div class=\"markdown_operation\" v-if=\"hidden_default_tools\">\r\n            <div>\r\n                <button class=\"markdown_operation_button markdown_operation_preview_button\" @click=\"tab_preview()\" v-show=\"!preview\">预览</button>\r\n                <button class=\"markdown_operation_button markdown_operation_preview_button\" @click=\"tab_preview()\" v-show=\"preview\">取消预览</button>\r\n                <button class=\"markdown_operation_button markdown_operation_public_button\">发布</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>    \r\n<script type=\"text/javascript\">\r\nimport VueMarkdown from 'vue-markdown'\r\nimport { mapState } from 'vuex'\r\nimport Upload from '@/api/upload/upload.js'\r\n\r\nexport default {\r\n    props: {\r\n        placeholder: {\r\n            type: String,\r\n            require: false\r\n        },\r\n        preview: {\r\n            type: Boolean,\r\n            require: false,\r\n            default: false\r\n        },\r\n        hidden_default_tools: {\r\n            type: Boolean,\r\n            require: false,\r\n            require: true\r\n        }\r\n    },\r\n    data: function () {\r\n        return {\r\n            text: '',\r\n            selected_text: ''\r\n        }\r\n    },\r\n    components: {\r\n        VueMarkdown\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            user_id: state => state.loginState.user_info.id\r\n        })\r\n    },\r\n    methods: {\r\n        tab_preview: function () {\r\n            this.preview = !this.preview\r\n        },\r\n        selected: function () {\r\n            // console.log(event)\r\n            let textarea = document.getElementById('markdown_textarea')\r\n            let selectedText = textarea.value.substr(textarea.selectionStart, textarea.selectionEnd - textarea.selectionStart)\r\n            this.selected_text = selectedText\r\n            let left = textarea.value.substr(0, textarea.selectionStart)\r\n            let right = textarea.value.substr(textarea.selectionEnd, textarea.value.length)\r\n\r\n            return {\r\n                'left': left,\r\n                'right': right,\r\n                'selected': selectedText\r\n            }\r\n        },\r\n        replace: function (symbo) {\r\n            let getSelected = this.selected()\r\n            let newSymboText = `${symbo}${getSelected.selected}${symbo}`\r\n            this.text = `${getSelected.left}${newSymboText}${getSelected.right}`\r\n        },\r\n        start_with: function (symbo) {\r\n            let getSelected = this.selected()\r\n            let newSymboText = `${symbo}${getSelected.selected}`\r\n            this.text = `${getSelected.left}${newSymboText}${getSelected.right}`\r\n        },\r\n        link_with: function () {\r\n            let getSelected = this.selected()\r\n            let newSymboText = ''\r\n            if (getSelected.selected.substr(0,4) == 'http') {\r\n                newSymboText = `[描述](${getSelected.selected})`\r\n            } else if (getSelected.selected == '') {\r\n                newSymboText = `[描述](链接)`\r\n            } else {\r\n                newSymboText = `[${getSelected.selected}](链接)`\r\n            }\r\n\r\n            this.text = `${getSelected.left}${newSymboText}${getSelected.right}`\r\n        },\r\n        img_with: function (imgUrl) {\r\n            let getSelected = this.selected()\r\n            let newSymboText = `![picture](${imgUrl})`\r\n\r\n            this.text = `${getSelected.left}${newSymboText}${getSelected.right}`\r\n        },\r\n        upload: async function (event) {\r\n            let imgUrl = await Upload.upload_file({\r\n                file: event.target.files[0],\r\n                user_id: this.user_id,\r\n                folder: 'questions'\r\n            })\r\n            this.img_with(imgUrl)            \r\n        }\r\n    },\r\n    watch: {\r\n        text: function () {\r\n            this.$emit('text', this.text)\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n<style type=\"text/css\">\r\n.markdown_editor {\r\n    min-height: 250px;\r\n    border: 1px solid #ccc;\r\n}\r\n\r\n.markdown_container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 100%;\r\n    min-height: 250px;\r\n}\r\n\r\n.markdown_container_editor {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 100%;\r\n    min-height: 250px;\r\n}\r\n\r\n.markdown_tools {\r\n    background: #f7f7f7;\r\n    padding: 5px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.tools .fa {\r\n    padding: 10px 15px;\r\n    margin: 0;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n}\r\n\r\n.tools .fa:hover {\r\n    box-shadow: 0 0 1px 1px #ccc;\r\n}\r\n\r\n.get_markdown_knowledge {\r\n    color: #08bf91;\r\n}\r\n\r\n.markdown_text {\r\n    flex-grow: 1;\r\n    border: none;\r\n    outline: none;\r\n    color: #495057;\r\n    font-size: 1rem;\r\n    padding: .375rem .75rem;\r\n}\r\n\r\n.markdown_container_previewer {\r\n    padding: 10px 20px;\r\n    background: transparent;\r\n    border: 1px solid #eee;\r\n    word-break: break-all;\r\n    height: 100%;\r\n    overflow: auto;\r\n}\r\n\r\n.markdown_operation {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.markdown_operation_button {\r\n    font-weight: 400;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    border: 1px solid transparent;\r\n    padding: .375rem 20px;\r\n    font-size: 1rem;\r\n    line-height: 1.5;\r\n    border-radius: .25rem;\r\n    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\r\n}\r\n\r\n.markdown_operation_public_button {\r\n    color: #fff;\r\n    background-color: #08bf91;\r\n    border-color: #08bf91;\r\n}\r\n\r\n.markdown_operation_public_button:hover {\r\n    color: #fff;\r\n    background-color: #069a75;\r\n    border-color: #069a75; \r\n}\r\n\r\n.markdown_operation_preview_button {\r\n    color: #08bf91;\r\n    border-color: #08bf91;\r\n    background-color: #fff;\r\n}\r\n\r\n.markdown_operation_preview_button:hover {\r\n    color: #fff;\r\n    background-color: #08bf91;\r\n    border-color: #08bf91;\r\n}\r\n\r\n#upload_file {\r\n    display: none;\r\n}\r\n\r\n#markdown_textarea {\r\n    background: transparent;\r\n    resize: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/common_components/markdown_editor/markdown.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"markdown_editor\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.preview),expression:\"!preview\"}],staticClass:\"markdown_container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.preview),expression:\"!preview\"}],staticClass:\"markdown_container_editor\"},[_c('div',{staticClass:\"markdown_tools\"},[_c('div',{staticClass:\"tools\"},[_c('i',{staticClass:\"fa fa-bold\",on:{\"click\":function($event){return _vm.replace('**')}}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-italic\",on:{\"click\":function($event){return _vm.replace('*')}}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-link\",on:{\"click\":function($event){return _vm.link_with()}}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-quote-left\",on:{\"click\":function($event){return _vm.start_with('> ')}}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-code\",on:{\"click\":function($event){return _vm.replace('```')}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"upload_file\"}},[_c('i',{staticClass:\"fa fa-image\",on:{\"click\":function($event){return _vm.upload()}}})]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"id\":\"upload_file\"},on:{\"change\":function($event){return _vm.upload($event)}}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-list-ol\",on:{\"click\":function($event){return _vm.start_with('1. ')}}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-list-ul\",on:{\"click\":function($event){return _vm.start_with('- ')}}})]),_vm._v(\" \"),_c('router-link',{staticClass:\"get_markdown_knowledge\",attrs:{\"tag\":\"a\",\"to\":{ name: 'question', params: { id: '764' } }}},[_c('i',{staticClass:\"fa fa-question-circle\"}),_vm._v(\"\\n                    MarkDown 语法\\n                \")])],1),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"markdown_text\",attrs:{\"id\":\"markdown_textarea\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.text)},on:{\"select\":function($event){return _vm.selected()},\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})])]),_vm._v(\" \"),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.preview),expression:\"preview\"}],staticClass:\"markdown_container_previewer\"},[_c('VueMarkdown',{attrs:{\"source\":_vm.text}})],1),_vm._v(\" \"),(_vm.hidden_default_tools)?_c('div',{staticClass:\"markdown_operation\"},[_c('div',[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.preview),expression:\"!preview\"}],staticClass:\"markdown_operation_button markdown_operation_preview_button\",on:{\"click\":function($event){return _vm.tab_preview()}}},[_vm._v(\"预览\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.preview),expression:\"preview\"}],staticClass:\"markdown_operation_button markdown_operation_preview_button\",on:{\"click\":function($event){return _vm.tab_preview()}}},[_vm._v(\"取消预览\")]),_vm._v(\" \"),_c('button',{staticClass:\"markdown_operation_button markdown_operation_public_button\"},[_vm._v(\"发布\")])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2009e5e2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/common_components/markdown_editor/markdown.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2009e5e2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./markdown.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./markdown.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./markdown.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2009e5e2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./markdown.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common_components/markdown_editor/markdown.vue\n// module id = null\n// module chunks = ","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/defineProperty.js\n// module id = a3Yh\n// module chunks = 2 8","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.9@core-js/library/fn/object/define-property.js\n// module id = lbsL\n// module chunks = 2 8","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js\n// module id = liLe\n// module chunks = 2 8","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.6.9@core-js/library/modules/es6.object.define-property.js\n// module id = ngi5\n// module chunks = 2 8"],"sourceRoot":""}